function testInputsOnFill(e){switch(e.target.className){case"payments__form__card-number-item":if(e.target.value=e.target.value.replace(/[^0-9]/g,""),4==e.target.value.length&&"INPUT"==e.target.nextElementSibling.nodeName){var t=e.target.nextElementSibling;t.focus(),t.style.border="1px solid #ccffff"}for(var r=0;r<cardNumbers.length;r++)sendErrorNumbers=4==cardNumbers[r].value.length;break;case"payments__form__safe-info__inputcvv":e.target.value=e.target.value.replace(/[^0-9]/g,""),sendErrorCVV=3==e.target.value.length;break;case"payments__form__holder":case"payments__form__holder payments__form__safe-info_input_error":e.target.value=e.target.value.replace(/[^A-Z\s]/g,""),e.target.value.length<4&&e.target.value.length>-1?(console.log("asdasd"),e.target.classList.add("payments__form__safe-info_input_error"),sendErrorHolder=!1):(e.target.classList.remove("payments__form__safe-info_input_error"),sendErrorHolder=!0)}}function dropList(){this.querySelector(".payments__form__safe-info__list__values").classList.toggle("hidden")}function chooseListValue(e){var t=e.target.innerHTML,r=e.target.parentNode.nextElementSibling,n=e.target.parentNode.previousElementSibling;r.value=t,n.innerHTML=t}for(var cardNumbers=document.querySelectorAll(".payments__form__card-number-item"),cvvCode=document.querySelector(".payments__form__safe-info__inputcvv"),holderName=document.querySelector(".payments__form__holder"),formInputs=document.querySelectorAll(".payments__form input"),paymentsFormButton=document.querySelector(".payments__form__button"),sendErrorNumbers=!1,sendErrorCVV=!1,sendErrorHolder=!1,cardLifeLength=5,cardLifeLengthDiapason=2*cardLifeLength,burgerMenuButton=document.querySelector(".menu__burger"),leftMenu=document.querySelector(".menu"),backgroundLayout=document.querySelector(".background-layout"),k=0;k<formInputs.length;k++)formInputs[k].addEventListener("focus",function(e){this.style.border="1px solid #ccffff"});for(var i=0;i<cardNumbers.length;i++)cardNumbers[i].addEventListener("keyup",testInputsOnFill);cvvCode.addEventListener("keyup",testInputsOnFill),holderName.addEventListener("keyup",testInputsOnFill),window.addEventListener("load",function(){for(var e=0;e<formInputs.length;e++)formInputs[e].value="";var t=(new Date).getFullYear();document.querySelector(".payments__form__safe-info__year__value").innerHTML=t;for(var r=document.querySelector(".payments__form__safe-info__year__value").nextElementSibling,n=t-cardLifeLength,s=0;s<cardLifeLengthDiapason;s++){var o=document.createElement("div");o.classList.add("payments__form__safe-info__list__values__item"),o.innerHTML=n,n+=1,r.appendChild(o)}}),paymentsFormButton.addEventListener("click",function(e){if(!sendErrorHolder||!sendErrorCVV||!sendErrorNumbers){e.preventDefault();for(var t=0;t<cardNumbers.length;t++)cardNumbers[t].value.length<4&&(cardNumbers[t].style.border="1px solid red");cvvCode.value.length<3&&(cvvCode.style.border="1px solid red"),holderName.value.length<4&&(holderName.style.border="1px solid red")}});for(var valuesLists=document.querySelectorAll(".payments__form__safe-info_input"),z=0;z<valuesLists.length;z++)valuesLists[z].addEventListener("click",dropList);for(var valuesListsItem=document.querySelectorAll(".payments__form__safe-info__list__values"),e=0;e<valuesListsItem.length;e++)valuesListsItem[e].addEventListener("click",chooseListValue);burgerMenuButton.addEventListener("click",function(e){this.style.display="none",leftMenu.style.display="block",backgroundLayout.classList.remove("hidden")}),backgroundLayout.addEventListener("click",function(e){this.classList.add("hidden"),leftMenu.style.display="none",burgerMenuButton.style.display="block"}),function(){function e(e){this.element=e}var t=function(e){return new RegExp("(^| )"+e+"( |$)")},r=function(e,t,r){for(var n=0;n<e.length;n++)t.call(r,e[n])};e.prototype={add:function(){r(arguments,function(e){this.contains(e)||(this.element.className+=" "+e)},this)},remove:function(){r(arguments,function(e){this.element.className=this.element.className.replace(t(e),"")},this)},toggle:function(e){return this.contains(e)?(this.remove(e),!1):(this.add(e),!0)},contains:function(e){return t(e).test(this.element.className)},replace:function(e,t){this.remove(e),this.add(t)}},"classList"in Element.prototype||Object.defineProperty(Element.prototype,"classList",{get:function(){return new e(this)}}),window.DOMTokenList&&null==DOMTokenList.prototype.replace&&(DOMTokenList.prototype.replace=e.prototype.replace)}();